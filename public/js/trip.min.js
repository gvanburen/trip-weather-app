angular.module("weatherTrip",["ngRoute","appRoutes","homeCtrl","tripCtrl","tripStorage","tripWolf","tripRail"]),angular.module("appRoutes",[]).config(["$routeProvider","$locationProvider",function(t,o){t.when("/",{templateUrl:"./views/home.html",controller:"homeController"}).when("/trip",{templateUrl:"./views/trip.html",controller:"tripController"}),o.html5Mode(!0)}]),angular.module("weatherTrip",["ngRoute","appRoutes","homeCtrl","tripCtrl","tripStorage","tripWolf","tripRail"]),angular.module("appRoutes",[]).config(["$routeProvider","$locationProvider",function(t,o){t.when("/",{templateUrl:"./views/home.html",controller:"homeController"}).when("/trip",{templateUrl:"./views/trip.html",controller:"tripController"}),o.html5Mode(!0)}]),angular.module("weatherTrip",["ngRoute","appRoutes","homeCtrl","tripCtrl","tripStorage","tripWolf","tripRail"]),angular.module("appRoutes",[]).config(["$routeProvider","$locationProvider",function(t,o){t.when("/",{templateUrl:"./views/home.html",controller:"homeController"}).when("/trip",{templateUrl:"./views/trip.html",controller:"tripController"}),o.html5Mode(!0)}]),angular.module("weatherTrip",["ngRoute","appRoutes","homeCtrl","tripCtrl","tripStorage","tripWolf","tripRail"]),angular.module("appRoutes",[]).config(["$routeProvider","$locationProvider",function(t,o){t.when("/",{templateUrl:"./views/home.html",controller:"homeController"}).when("/trip",{templateUrl:"./views/trip.html",controller:"tripController"}),o.html5Mode(!0)}]),angular.module("weatherTrip",["ngRoute","appRoutes","homeCtrl","tripCtrl","tripStorage","tripWolf","tripRail"]),angular.module("appRoutes",[]).config(["$routeProvider","$locationProvider",function(t,o){t.when("/",{templateUrl:"./views/home.html",controller:"homeController"}).when("/trip",{templateUrl:"./views/trip.html",controller:"tripController"}),o.html5Mode(!0)}]),angular.module("weatherTrip",["ngRoute","appRoutes","homeCtrl","tripCtrl","tripStorage","tripWolf","tripRail"]),angular.module("appRoutes",[]).config(["$routeProvider","$locationProvider",function(t,o){t.when("/",{templateUrl:"./views/home.html",controller:"homeController"}).when("/trip",{templateUrl:"./views/trip.html",controller:"tripController"}),o.html5Mode(!0)}]),angular.module("weatherTrip",["ngRoute","appRoutes","homeCtrl","tripCtrl","tripStorage","tripWolf","tripRail"]),angular.module("appRoutes",[]).config(["$routeProvider","$locationProvider",function(t,o){t.when("/",{templateUrl:"./views/home.html",controller:"homeController"}).when("/trip",{templateUrl:"./views/trip.html",controller:"tripController"}),o.html5Mode(!0)}]),angular.module("weatherTrip",["ngRoute","appRoutes","homeCtrl","tripCtrl","tripStorage","tripWolf","tripRail"]),angular.module("appRoutes",[]).config(["$routeProvider","$locationProvider",function(t,o){t.when("/",{templateUrl:"./views/home.html",controller:"homeController"}).when("/trip",{templateUrl:"./views/trip.html",controller:"tripController"}),o.html5Mode(!0)}]),angular.module("homeCtrl",[]).controller("homeController",["$scope","$location","$anchorScroll","$log","storageFactory","wolfFactory",function(t,o,e,r,i,n){function a(){t.loading=!0}t.scrollTo=function(t){o.hash(t),e()},t.gatherData=function(){a();var e={origin:t.origin,destination:t.destination,toDate:t.toDate,fromDate:t.fromDate};i.setData("trip",JSON.stringify(e)),n.wolfWeather(e).then(function(t){r.log(t),i.setData("wolf",JSON.stringify(t)),o.path("/trip")})}}]),angular.module("tripCtrl",[]).controller("tripController",["$scope","$http","$log","storageFactory","railFactory",function(t,o,e,r,n){function a(o){for(i=0;i<o.length;i++)if("Temperature history"==o[i].title){e.log("i found it!");var r=o[i].subpods[0].value;t.tempImage=o[i].subpods[0].image,t.tempFound=!0}else t.noTemp=!0,t.loading=!1;l(r)}function l(o){e.log(o),o=o.match(/([0-9])+( °F| °C)\s+/g),textArray=o.toString(),temp=textArray.match(/([0-9])\w+/g),tempHigh=temp.slice(1,2),tempHigh=tempHigh.toString(),tempLow=temp.slice(2,3),tempLow=tempLow.toString(),t.tempHigh=tempHigh,t.tempLow=tempLow}function g(){e.log("cleaning up"),r.clearData("destCode"),r.clearData("originCode")}function c(){e.log("getting origin"),n.getOrigin(p)}function s(){e.log("getting destination"),n.getDestination(p),window.setTimeout(u,1e3)}function u(){e.log("setting locations");var t={origCode:r.getData("originCode"),destCode:r.getData("destCode")};r.setData("fareData",JSON.stringify(t)),window.setTimeout(f(t),1e3)}function f(o){e.log("getting fare"),n.getFare(o).success(function(o){t.tickets=o.fares,t.loading=!1,t.fareFound=!0}).error(function(o){t.noFare=!0,t.loading=!1})}t.loading=!0;var p=JSON.parse(r.getData("trip"));t.origin=p.origin,t.destination=p.destination,t.toDate=p.toDate,t.fromDate=p.fromDate;var m=JSON.parse(r.getData("wolf"));e.log(m),g(),c(),s(),a(m)}]),angular.module("tripRail",[]).factory("railFactory",["$http","$log","$q","storageFactory",function(t,o,e,r){var i=e.defer();return{getOrigin:function(e){return t.post("/origin",e).success(function(t){r.setData("originCode",t[0].code),i.resolve(t)}).error(function(t){o.log("Error: "+t),i.reject(t)}),i.promise},getDestination:function(e){return t.post("/destination",e).success(function(t){r.setData("destCode",t[0].code),i.resolve(t)}).error(function(t){o.log("Error: "+t),i.reject(t)}),i.promise},getFare:function(e){return e=JSON.stringify(e),o.log("I'm getting fare for: "+e),t.post("/fare",e)}}}]),angular.module("tripStorage",[]).factory("storageFactory",["$window","$log",function(t,o){return{setData:function(e,r){return t.localStorage.setItem(e,r),o.log("set "+e+" data: "+r),this},getData:function(e){return o.log("retreiving "+e+" data"),t.localStorage.getItem(e)},clearData:function(o){t.localStorage.removeItem(o)}}}]),angular.module("tripWolf",[]).factory("wolfFactory",["$http","$log","$q",function(t,o,e){var r=e.defer();return{wolfWeather:function(e){return t.post("/wolf",e).success(function(t){r.resolve(t),o.log(t)}).error(function(t){o.log("Error: "+t),r.reject(t)}),r.promise}}}]),angular.module("homeCtrl",[]).controller("homeController",["$scope","$location","$anchorScroll","$log","storageFactory","wolfFactory",function(t,o,e,r,i,n){function a(){t.loading=!0}t.scrollTo=function(t){o.hash(t),e()},t.gatherData=function(){a();var e={origin:t.origin,destination:t.destination,toDate:t.toDate,fromDate:t.fromDate};i.setData("trip",JSON.stringify(e)),n.wolfWeather(e).then(function(t){r.log(t),i.setData("wolf",JSON.stringify(t)),o.path("/trip")})}}]),angular.module("tripCtrl",[]).controller("tripController",["$scope","$http","$log","storageFactory","railFactory",function(t,o,e,r,n){function a(o){for(i=0;i<o.length;i++)if("Temperature history"==o[i].title){e.log("i found it!");var r=o[i].subpods[0].value;t.tempImage=o[i].subpods[0].image,t.tempFound=!0}else t.noTemp=!0,t.loading=!1;l(r)}function l(o){e.log(o),o=o.match(/([0-9])+( °F| °C)\s+/g),textArray=o.toString(),temp=textArray.match(/([0-9])\w+/g),tempHigh=temp.slice(1,2),tempHigh=tempHigh.toString(),tempLow=temp.slice(2,3),tempLow=tempLow.toString(),t.tempHigh=tempHigh,t.tempLow=tempLow}function g(){e.log("cleaning up"),r.clearData("destCode"),r.clearData("originCode")}function c(){e.log("getting origin"),n.getOrigin(p)}function s(){e.log("getting destination"),n.getDestination(p),window.setTimeout(u,1e3)}function u(){e.log("setting locations");var t={origCode:r.getData("originCode"),destCode:r.getData("destCode")};r.setData("fareData",JSON.stringify(t)),window.setTimeout(f(t),1e3)}function f(o){e.log("getting fare"),n.getFare(o).success(function(o){t.tickets=o.fares,t.loading=!1,t.fareFound=!0}).error(function(o){t.noFare=!0,t.loading=!1})}t.loading=!0;var p=JSON.parse(r.getData("trip"));t.origin=p.origin,t.destination=p.destination,t.toDate=p.toDate,t.fromDate=p.fromDate;var m=JSON.parse(r.getData("wolf"));e.log(m),g(),c(),s(),a(m)}]),angular.module("tripRail",[]).factory("railFactory",["$http","$log","$q","storageFactory",function(t,o,e,r){var i=e.defer();return{getOrigin:function(e){return t.post("/origin",e).success(function(t){r.setData("originCode",t[0].code),i.resolve(t)}).error(function(t){o.log("Error: "+t),i.reject(t)}),i.promise},getDestination:function(e){return t.post("/destination",e).success(function(t){r.setData("destCode",t[0].code),i.resolve(t)}).error(function(t){o.log("Error: "+t),i.reject(t)}),i.promise},getFare:function(e){return e=JSON.stringify(e),o.log("I'm getting fare for: "+e),t.post("/fare",e)}}}]),angular.module("tripStorage",[]).factory("storageFactory",["$window","$log",function(t,o){return{setData:function(e,r){return t.localStorage.setItem(e,r),o.log("set "+e+" data: "+r),this},getData:function(e){return o.log("retreiving "+e+" data"),t.localStorage.getItem(e)},clearData:function(o){t.localStorage.removeItem(o)}}}]),angular.module("tripWolf",[]).factory("wolfFactory",["$http","$log","$q",function(t,o,e){var r=e.defer();return{wolfWeather:function(e){return t.post("/wolf",e).success(function(t){r.resolve(t),o.log(t)}).error(function(t){o.log("Error: "+t),r.reject(t)}),r.promise}}}]),angular.module("tripRail",[]).factory("railFactory",["$http","$log","$q","storageFactory",function(t,o,e,r){var i=e.defer();return{getOrigin:function(e){return t.post("/origin",e).success(function(t){r.setData("originCode",t[0].code),i.resolve(t)}).error(function(t){o.log("Error: "+t),i.reject(t)}),i.promise},getDestination:function(e){return t.post("/destination",e).success(function(t){r.setData("destCode",t[0].code),i.resolve(t)}).error(function(t){o.log("Error: "+t),i.reject(t)}),i.promise},getFare:function(e){return e=JSON.stringify(e),o.log("I'm getting fare for: "+e),t.post("/fare",e)}}}]),angular.module("tripStorage",[]).factory("storageFactory",["$window","$log",function(t,o){return{setData:function(e,r){return t.localStorage.setItem(e,r),o.log("set "+e+" data: "+r),this},getData:function(e){return o.log("retreiving "+e+" data"),t.localStorage.getItem(e)},clearData:function(o){t.localStorage.removeItem(o)}}}]),angular.module("tripWolf",[]).factory("wolfFactory",["$http","$log","$q",function(t,o,e){var r=e.defer();return{wolfWeather:function(e){return t.post("/wolf",e).success(function(t){r.resolve(t),o.log(t)}).error(function(t){o.log("Error: "+t),r.reject(t)}),r.promise}}}]),angular.module("homeCtrl",[]).controller("homeController",["$scope","$location","$anchorScroll","$log","storageFactory","wolfFactory",function(t,o,e,r,i,n){function a(){t.loading=!0}t.scrollTo=function(t){o.hash(t),e()},t.gatherData=function(){a();var e={origin:t.origin,destination:t.destination,toDate:t.toDate,fromDate:t.fromDate};i.setData("trip",JSON.stringify(e)),n.wolfWeather(e).then(function(t){r.log(t),i.setData("wolf",JSON.stringify(t)),o.path("/trip")})}}]),angular.module("tripCtrl",[]).controller("tripController",["$scope","$http","$log","storageFactory","railFactory",function(t,o,e,r,n){function a(o){for(i=0;i<o.length;i++)if("Temperature history"==o[i].title){e.log("i found it!");var r=o[i].subpods[0].value;t.tempImage=o[i].subpods[0].image,t.tempFound=!0}else t.noTemp=!0,t.loading=!1;l(r)}function l(o){e.log(o),o=o.match(/([0-9])+( °F| °C)\s+/g),textArray=o.toString(),temp=textArray.match(/([0-9])\w+/g),tempHigh=temp.slice(1,2),tempHigh=tempHigh.toString(),tempLow=temp.slice(2,3),tempLow=tempLow.toString(),t.tempHigh=tempHigh,t.tempLow=tempLow}function g(){e.log("cleaning up"),r.clearData("destCode"),r.clearData("originCode")}function c(){e.log("getting origin"),n.getOrigin(p)}function s(){e.log("getting destination"),n.getDestination(p),window.setTimeout(u,1e3)}function u(){e.log("setting locations");var t={origCode:r.getData("originCode"),destCode:r.getData("destCode")};r.setData("fareData",JSON.stringify(t)),window.setTimeout(f(t),1e3)}function f(o){e.log("getting fare"),n.getFare(o).success(function(o){t.tickets=o.fares,t.loading=!1,t.fareFound=!0}).error(function(o){t.noFare=!0,t.loading=!1})}t.loading=!0;var p=JSON.parse(r.getData("trip"));t.origin=p.origin,t.destination=p.destination,t.toDate=p.toDate,t.fromDate=p.fromDate;var m=JSON.parse(r.getData("wolf"));e.log(m),g(),c(),s(),a(m)}]),angular.module("homeCtrl",[]).controller("homeController",["$scope","$location","$anchorScroll","$log","storageFactory","wolfFactory",function(t,o,e,r,i,n){function a(){t.loading=!0}t.scrollTo=function(t){o.hash(t),e()},t.gatherData=function(){a();var e={origin:t.origin,destination:t.destination,toDate:t.toDate,fromDate:t.fromDate};i.setData("trip",JSON.stringify(e)),n.wolfWeather(e).then(function(t){r.log(t),i.setData("wolf",JSON.stringify(t)),o.path("/trip")})}}]),angular.module("tripCtrl",[]).controller("tripController",["$scope","$http","$log","storageFactory","railFactory",function(t,o,e,r,n){function a(o){for(i=0;i<o.length;i++)if("Temperature history"==o[i].title){e.log("i found it!");var r=o[i].subpods[0].value;t.tempImage=o[i].subpods[0].image,t.tempFound=!0,t.noTemp=!1}else t.noTemp=!0;l(r)}function l(o){e.log(o),o=o.match(/([0-9])+( °F| °C)\s+/g),textArray=o.toString(),temp=textArray.match(/([0-9])\w+/g),tempHigh=temp.slice(1,2),tempHigh=tempHigh.toString(),tempLow=temp.slice(2,3),tempLow=tempLow.toString(),t.tempHigh=tempHigh,t.tempLow=tempLow}function g(){e.log("cleaning up"),r.clearData("destCode"),r.clearData("originCode")}function c(){e.log("getting origin"),n.getOrigin(p)}function s(){e.log("getting destination"),n.getDestination(p),window.setTimeout(u,1e3)}function u(){e.log("setting locations");var t={origCode:r.getData("originCode"),destCode:r.getData("destCode")};r.setData("fareData",JSON.stringify(t)),window.setTimeout(f(t),1e3)}function f(o){e.log("getting fare"),n.getFare(o).success(function(o){t.tickets=o.fares,t.loading=!1,t.fareFound=!0}).error(function(o){t.noFare=!0,t.loading=!1})}t.loading=!0,t.noTemp=!1;var p=JSON.parse(r.getData("trip"));t.origin=p.origin,t.destination=p.destination,t.toDate=p.toDate,t.fromDate=p.fromDate;var m=JSON.parse(r.getData("wolf"));e.log(m),g(),c(),s(),a(m)}]),angular.module("tripRail",[]).factory("railFactory",["$http","$log","$q","storageFactory",function(t,o,e,r){var i=e.defer();return{getOrigin:function(e){return t.post("/origin",e).success(function(t){r.setData("originCode",t[0].code),i.resolve(t)}).error(function(t){o.log("Error: "+t),i.reject(t)}),i.promise},getDestination:function(e){return t.post("/destination",e).success(function(t){r.setData("destCode",t[0].code),i.resolve(t)}).error(function(t){o.log("Error: "+t),i.reject(t)}),i.promise},getFare:function(e){return e=JSON.stringify(e),o.log("I'm getting fare for: "+e),t.post("/fare",e)}}}]),angular.module("tripStorage",[]).factory("storageFactory",["$window","$log",function(t,o){return{setData:function(e,r){return t.localStorage.setItem(e,r),o.log("set "+e+" data: "+r),this},getData:function(e){return o.log("retreiving "+e+" data"),t.localStorage.getItem(e)},clearData:function(o){t.localStorage.removeItem(o)}}}]),angular.module("tripWolf",[]).factory("wolfFactory",["$http","$log","$q",function(t,o,e){var r=e.defer();return{wolfWeather:function(e){return t.post("/wolf",e).success(function(t){r.resolve(t),o.log(t)}).error(function(t){o.log("Error: "+t),r.reject(t)}),r.promise}}}]),angular.module("homeCtrl",[]).controller("homeController",["$scope","$location","$anchorScroll","$log","storageFactory","wolfFactory",function(t,o,e,r,i,n){function a(){t.loading=!0}t.scrollTo=function(t){o.hash(t),e()},t.gatherData=function(){a();var e={origin:t.origin,destination:t.destination,toDate:t.toDate,fromDate:t.fromDate};i.setData("trip",JSON.stringify(e)),n.wolfWeather(e).then(function(t){r.log(t),i.setData("wolf",JSON.stringify(t)),o.path("/trip")})}}]),angular.module("tripCtrl",[]).controller("tripController",["$scope","$http","$log","storageFactory","railFactory",function(t,o,e,r,n){function a(o){for(i=0;i<o.length;i++)if("Temperature history"==o[i].title){e.log("i found it!");var r=o[i].subpods[0].value;t.tempImage=o[i].subpods[0].image,t.tempFound=!0,t.noTemp=!1}else t.noTemp=!0;l(r)}function l(o){e.log(o),o=o.match(/([0-9])+( °F| °C)\s+/g),textArray=o.toString(),temp=textArray.match(/([0-9])\w+/g),tempHigh=temp.slice(1,2),tempHigh=tempHigh.toString(),tempLow=temp.slice(2,3),tempLow=tempLow.toString(),t.tempHigh=tempHigh,t.tempLow=tempLow}function g(){e.log("cleaning up"),r.clearData("destCode"),r.clearData("originCode")}function c(){e.log("getting origin"),n.getOrigin(p)}function s(){e.log("getting destination"),n.getDestination(p),window.setTimeout(u,1e3)}function u(){e.log("setting locations");var t={origCode:r.getData("originCode"),destCode:r.getData("destCode")};r.setData("fareData",JSON.stringify(t)),window.setTimeout(f(t),1e3)}function f(o){e.log("getting fare"),n.getFare(o).success(function(o){t.tickets=o.fares,t.loading=!1,t.fareFound=!0}).error(function(o){t.noFare=!0,t.loading=!1})}t.loading=!0;var p=JSON.parse(r.getData("trip"));t.origin=p.origin,t.destination=p.destination,t.toDate=p.toDate,t.fromDate=p.fromDate;var m=JSON.parse(r.getData("wolf"));e.log(m),g(),c(),s(),a(m)}]),angular.module("tripRail",[]).factory("railFactory",["$http","$log","$q","storageFactory",function(t,o,e,r){var i=e.defer();return{getOrigin:function(e){return t.post("/origin",e).success(function(t){r.setData("originCode",t[0].code),i.resolve(t)}).error(function(t){o.log("Error: "+t),i.reject(t)}),i.promise},getDestination:function(e){return t.post("/destination",e).success(function(t){r.setData("destCode",t[0].code),i.resolve(t)}).error(function(t){o.log("Error: "+t),i.reject(t)}),i.promise},getFare:function(e){return e=JSON.stringify(e),o.log("I'm getting fare for: "+e),t.post("/fare",e)}}}]),angular.module("tripStorage",[]).factory("storageFactory",["$window","$log",function(t,o){return{setData:function(e,r){return t.localStorage.setItem(e,r),o.log("set "+e+" data: "+r),this},getData:function(e){return o.log("retreiving "+e+" data"),t.localStorage.getItem(e)},clearData:function(o){t.localStorage.removeItem(o)}}}]),angular.module("tripWolf",[]).factory("wolfFactory",["$http","$log","$q",function(t,o,e){var r=e.defer();return{wolfWeather:function(e){return t.post("/wolf",e).success(function(t){r.resolve(t),o.log(t)}).error(function(t){o.log("Error: "+t),r.reject(t)}),r.promise}}}]),angular.module("homeCtrl",[]).controller("homeController",["$scope","$location","$anchorScroll","$log","storageFactory","wolfFactory",function(t,o,e,r,i,n){function a(){t.loading=!0}t.scrollTo=function(t){o.hash(t),e()},t.gatherData=function(){a();var e={origin:t.origin,destination:t.destination,toDate:t.toDate,fromDate:t.fromDate};i.setData("trip",JSON.stringify(e)),n.wolfWeather(e).then(function(t){r.log(t),i.setData("wolf",JSON.stringify(t)),o.path("/trip")})}}]),angular.module("tripCtrl",[]).controller("tripController",["$scope","$http","$log","storageFactory","railFactory",function(t,o,e,r,n){function a(o){for(i=0;i<o.length;i++)if("Temperature history"==o[i].title){e.log("i found it!");var r=o[i].subpods[0].value;t.tempImage=o[i].subpods[0].image,t.tempFound=!0,t.noTemp=!1}else t.noTemp=!0;l(r)}function l(o){e.log("i'm parsing this: "+o),o=o.match(/([0-9])+( °F| °C)\s+/g),textArray=o.toString(),temp=textArray.match(/([0-9])\w+/g),tempHigh=temp.slice(1,2),tempHigh=tempHigh.toString(),tempLow=temp.slice(2,3),tempLow=tempLow.toString(),t.tempHigh=tempHigh,t.tempLow=tempLow}function g(){r.clearData("destCode"),r.clearData("originCode")}function c(){n.getOrigin(p)}function s(){n.getDestination(p),window.setTimeout(u,1e3)}function u(){var t={origCode:r.getData("originCode"),destCode:r.getData("destCode")};r.setData("fareData",JSON.stringify(t)),window.setTimeout(f(t),1e3)}function f(o){n.getFare(o).success(function(o){t.tickets=o.fares,t.loading=!1,t.fareFound=!0}).error(function(o){t.noFare=!0,t.loading=!1})}t.loading=!0;var p=JSON.parse(r.getData("trip"));t.origin=p.origin,t.destination=p.destination,t.toDate=p.toDate,t.fromDate=p.fromDate;var m=JSON.parse(r.getData("wolf"));e.log("this is what i'm filtering: "+m),g(),c(),s(),a(m)}]),angular.module("tripRail",[]).factory("railFactory",["$http","$log","$q","storageFactory",function(t,o,e,r){var i=e.defer();return{getOrigin:function(e){return t.post("/origin",e).success(function(t){r.setData("originCode",t[0].code),i.resolve(t)}).error(function(t){o.log("Error: "+t),i.reject(t)}),i.promise},getDestination:function(e){return t.post("/destination",e).success(function(t){r.setData("destCode",t[0].code),i.resolve(t)}).error(function(t){o.log("Error: "+t),i.reject(t)}),i.promise},getFare:function(e){return e=JSON.stringify(e),o.log("I'm getting fare for: "+e),t.post("/fare",e)}}}]),angular.module("tripStorage",[]).factory("storageFactory",["$window","$log",function(t,o){return{setData:function(e,r){return t.localStorage.setItem(e,r),o.log("set "+e+" data: "+r),this},getData:function(e){return o.log("retreiving "+e+" data"),t.localStorage.getItem(e)},clearData:function(o){t.localStorage.removeItem(o)}}}]),angular.module("tripWolf",[]).factory("wolfFactory",["$http","$log","$q",function(t,o,e){var r=e.defer();return{wolfWeather:function(e){return t.post("/wolf",e).success(function(t){r.resolve(t),o.log(t)}).error(function(t){o.log("Error: "+t),r.reject(t)}),r.promise}}}]),angular.module("homeCtrl",[]).controller("homeController",["$scope","$location","$anchorScroll","$log","storageFactory","wolfFactory",function(t,o,e,r,i,n){function a(){t.loading=!0}t.scrollTo=function(t){o.hash(t),e()},t.gatherData=function(){a();var e={origin:t.origin,destination:t.destination,toDate:t.toDate,fromDate:t.fromDate};i.setData("trip",JSON.stringify(e)),n.wolfWeather(e).then(function(t){r.log(t),i.setData("wolf",JSON.stringify(t)),o.path("/trip")})}}]),angular.module("tripCtrl",[]).controller("tripController",["$scope","$http","$log","storageFactory","railFactory",function(t,o,e,r,n){function a(o){for(i=0;i<o.length;i++)if("Temperature history"==o[i].title){e.log("i found it!");var r=o[i].subpods[0].value;t.tempImage=o[i].subpods[0].image,t.tempFound=!0,t.noTemp=!1}else t.noTemp=!0;l(r)}function l(o){e.log("i'm parsing this: "+o),o=o.match(/([0-9])+( °F| °C)\s+/g),textArray=o.toString(),temp=textArray.match(/([0-9])\w+/g),tempHigh=temp.slice(1,2),tempHigh=tempHigh.toString(),tempLow=temp.slice(2,3),tempLow=tempLow.toString(),t.tempHigh=tempHigh,t.tempLow=tempLow}function g(){r.clearData("destCode"),r.clearData("originCode")}function c(){n.getOrigin(p)}function s(){n.getDestination(p),window.setTimeout(u,1e3)}function u(){var t={origCode:r.getData("originCode"),destCode:r.getData("destCode")};r.setData("fareData",JSON.stringify(t)),window.setTimeout(f(t),1e3)}function f(o){n.getFare(o).success(function(o){t.tickets=o.fares,t.loading=!1,t.fareFound=!0}).error(function(o){t.noFare=!0,t.loading=!1})}t.loading=!0;var p=JSON.parse(r.getData("trip"));t.origin=p.origin,t.destination=p.destination,t.toDate=p.toDate,t.fromDate=p.fromDate;var m=JSON.parse(r.getData("wolf"));e.log("this is what i'm filtering: "+m),g(),c(),s(),a(m)}]),angular.module("tripRail",[]).factory("railFactory",["$http","$log","$q","storageFactory",function(t,o,e,r){var i=e.defer();return{getOrigin:function(e){return t.post("/origin",e).success(function(t){r.setData("originCode",t[0].code),i.resolve(t)}).error(function(t){o.log("Error: "+t),i.reject(t)}),i.promise},getDestination:function(e){return t.post("/destination",e).success(function(t){r.setData("destCode",t[0].code),i.resolve(t)}).error(function(t){o.log("Error: "+t),i.reject(t)}),i.promise},getFare:function(e){return e=JSON.stringify(e),o.log("I'm getting fare for: "+e),t.post("/fare",e)}}}]),angular.module("tripStorage",[]).factory("storageFactory",["$window","$log",function(t,o){return{setData:function(e,r){return t.localStorage.setItem(e,r),o.log("set "+e+" data: "+r),this},getData:function(e){return o.log("retreiving "+e+" data"),t.localStorage.getItem(e)},clearData:function(o){t.localStorage.removeItem(o)}}}]),angular.module("tripWolf",[]).factory("wolfFactory",["$http","$log","$q",function(t,o,e){return{wolfWeather:function(r){var i=e.defer();return t.post("/wolf",r).success(function(t){i.resolve(t),o.log(t)}).error(function(t){o.log("Error: "+t),i.reject(t)}),i.promise}}}]),angular.module("homeCtrl",[]).controller("homeController",["$scope","$location","$anchorScroll","$log","storageFactory","wolfFactory",function(t,o,e,r,i,n){function a(){t.loading=!0}t.scrollTo=function(t){o.hash(t),e()},t.gatherData=function(){a();var e={origin:t.origin,destination:t.destination,toDate:t.toDate,fromDate:t.fromDate};i.setData("trip",JSON.stringify(e)),n.wolfWeather(e).then(function(t){r.log(t),i.setData("wolf",JSON.stringify(t)),o.path("/trip")})}}]),angular.module("tripCtrl",[]).controller("tripController",["$scope","$http","$log","storageFactory","railFactory",function(t,o,e,r,n){function a(o){for(i=0;i<o.length;i++)if("Temperature history"==o[i].title){e.log("i found it!");var r=o[i].subpods[0].value;t.tempImage=o[i].subpods[0].image,t.tempFound=!0,t.noTemp=!1}else t.noTemp=!0;l(r)}function l(o){e.log("i'm parsing this: "+o),o=o.match(/([0-9])+( °F| °C)\s+/g),textArray=o.toString(),temp=textArray.match(/([0-9])\w+/g),tempHigh=temp.slice(1,2),tempHigh=tempHigh.toString(),tempLow=temp.slice(2,3),tempLow=tempLow.toString(),t.tempHigh=tempHigh,t.tempLow=tempLow}function g(){r.clearData("destCode"),r.clearData("originCode")}function c(){n.getOrigin(p)}function s(){n.getDestination(p),window.setTimeout(u,1e3)}function u(){var t={origCode:r.getData("originCode"),destCode:r.getData("destCode")};r.setData("fareData",JSON.stringify(t)),window.setTimeout(f(t),1e3)}function f(o){n.getFare(o).success(function(o){t.tickets=o.fares,t.loading=!1,t.fareFound=!0}).error(function(o){t.noFare=!0,t.loading=!1})}t.loading=!0;var p=JSON.parse(r.getData("trip"));t.origin=p.origin,t.destination=p.destination,t.toDate=p.toDate,t.fromDate=p.fromDate;var m=JSON.parse(r.getData("wolf"));e.log("this is what i'm filtering: "+m),g(),c(),s(),a(m)}]),angular.module("tripRail",[]).factory("railFactory",["$http","$log","$q","storageFactory",function(t,o,e,r){var i=e.defer();return{getOrigin:function(e){return t.post("/origin",e).success(function(t){r.setData("originCode",t[0].code),i.resolve(t)}).error(function(t){o.log("Error: "+t),i.reject(t)}),i.promise},getDestination:function(e){return t.post("/destination",e).success(function(t){r.setData("destCode",t[0].code),i.resolve(t)}).error(function(t){o.log("Error: "+t),i.reject(t)}),i.promise},getFare:function(e){return e=JSON.stringify(e),o.log("I'm getting fare for: "+e),t.post("/fare",e)}}}]),angular.module("tripStorage",[]).factory("storageFactory",["$window","$log",function(t,o){return{setData:function(e,r){return t.localStorage.setItem(e,r),o.log("set "+e+" data: "+r),this},getData:function(e){return o.log("retreiving "+e+" data"),t.localStorage.getItem(e)},clearData:function(o){t.localStorage.removeItem(o)}}}]),angular.module("tripWolf",[]).factory("wolfFactory",["$http","$log","$q",function(t,o,e){return{wolfWeather:function(r){var i=e.defer();return t.post("/wolf",r).success(function(t){i.resolve(t),o.log(t)}).error(function(t){o.log("Error: "+t),i.reject(t)}),i.promise}}}]);